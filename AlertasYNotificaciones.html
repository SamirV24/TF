<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Alertas y Notificacioness - AquaAlert</title>

    <link rel="icon" href="assets/images/AquaAlert.jpg" type="image/png" />
    <link rel="stylesheet" href="assets/styles/Alertas.css" />
    <link rel="stylesheet" href="assets/styles/global.css" />
    <link rel="stylesheet" href="assets/styles/Hamburguesa.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
  </head>

  <body>
    <!-- HEADER -->
    <header class="header">
      <div class="logo">
        <a href="SesionIniciada.html">
          <img src="assets/images/AquaAlert.jpg" alt="Logo AquaAlert" />
        </a>
      </div>

      <div class="hamburger" id="hamburger">
        <i class="fa-solid fa-bars"></i>
      </div>

      <nav class="nav">
        <div class="nav-item"><a href="SesionIniciada.html">Inicio</a></div>
        <div class="nav-item"><a href="SobreNosotros.html">Sobre Nosotros</a></div>
        <div class="nav-item"><a href="Contacto.html">Contacto</a></div>

        <div id="auth-buttons">
          <a href="Registro.html" class="btn-registrarse">Registrarse</a>
          <a href="Login.html" class="btn-iniciarSesion">Iniciar Sesi√≥n</a>
        </div>

        <div id="profile-button">
          <button class="btn-iniciarSesion" id="btnPerfil">Perfil</button>
          <div id="profile-menu">
            <a href="Perfil.html">Perfil</a>
            <a href="#" id="cerrarSesion">Cerrar sesi√≥n</a>
          </div>
        </div>
      </nav>
    </header>

    <!-- MAIN -->
    <main>
  <h1>Alertas y Notificaciones</h1>

  <select id="filtroDistrito" class="filtro-select">
    <option value="todos">Todos los Distritos</option>
    <option value="San Juan de Lurigancho">San Juan de Lurigancho</option>
    <option value="Comas">Comas</option>
    <option value="San Mart√≠n de Porres">San Mart√≠n de Porres</option>
    <option value="Villa El Salvador">Villa El Salvador</option>
    <option value="Los Olivos">Los Olivos</option>
    <option value="Ate">Ate</option>
    <option value="R√≠mac">R√≠mac</option>
    <option value="Surco">Surco</option>
    <option value="Bre√±a">Bre√±a</option>
    <option value="Chorrillos">Chorrillos</option>
  </select>

  <!-- BLOQUE DE INSIGNIAS POR PARTICIPACI√ìN -->
  <div class="insignias-usuario">
    <p>Tu insignia: <span id="insigniaUsuario">Sin insignia</span></p>
    <button id="btnReportarInfo" class="btn btn-add">
      Validar informaci√≥n
    </button>
  </div>

  <div class="btns">
    <button class="btn btn-add" id="btnNotificaciones">Recibir Notificaciones</button>
    <button class="btn btn-add" id="btnRecomendacion">Recomendaci√≥n del D√≠a</button>
    <button class="btn btn-add" id="btnNotifPersonalizadas">Notificaciones Personalizadas</button>
    <button class="btn btn-add" id="btnConfigPreferencias">Configurar Preferencias</button>
    <button class="btn btn-add" id="btnSeguridadAgua">Ver seguridad del agua</button>
    <button class="btn btn-add" id="btnComunicados">Comunicados</button>
    <button class="btn btn-add" id="btnEncuestas">
      Recibir encuestas
    </button>
    <button id="btnGenerarInforme" class="btn btn-add">
  Generar informe mensual
</button>
  </div>

  <div class="btns">
    <button class="btn btn-add" id="btnAddAlerta">+ A√±adir Alerta</button>
  </div>

  <div class="alertas-list" id="alertasList"></div>

  <div class="btns">
    <a href="SesionIniciada.html" class="btn btn-volver">‚Üê Volver</a>
  </div>
</main>

    <!-- MODAL CONTACTAR L√çDER DE ZONA -->
<div id="modalContactarLider" class="modal">
  <div class="modal-card" style="max-width:420px; width:90%;">
    <span id="closeContactarLider" class="close">&times;</span>
    <h2>Contacto de l√≠der de zona</h2>
    <p id="textoZonaLider" style="font-size:14px; margin-bottom:10px;"></p>

    <div id="infoLiderZona" style="font-size:14px; line-height:1.4;">
      <!-- Aqu√≠ se llenan los datos por JS -->
    </div>
  </div>
</div>


    <!-- MODAL ACTUALIZAR ESTADO DE INCIDENCIA -->
<div id="modalEstado" class="modal">
  <div class="modal-card">
    <span id="closeEstado" class="close">&times;</span>
    <h2>Actualizar estado de incidencia</h2>
    <p id="tituloEstadoIncidencia" style="font-size:14px; margin-bottom:10px;"></p>

    <label for="selectEstadoIncidencia"><b>Estado:</b></label>
    <select id="selectEstadoIncidencia" class="filtro-select">
      <option value="Pendiente">Pendiente</option>
      <option value="En proceso">En proceso</option>
      <option value="Solucionado">Solucionado</option>
      <option value="Terminado">Terminado</option>
    </select>

    <label for="inputResponsable"><b>Responsable:</b></label>
    <input id="inputResponsable" type="text" placeholder="Ej. Equipo de Calidad / Ing. P√©rez" />

    <button id="btnGuardarEstado" class="btn btn-add" style="margin-top:15px;">
      Guardar cambios
    </button>
  </div>
</div>

    
    <!-- MODAL COMPARTIR ALERTA -->
<div id="modalCompartir" class="modal">
  <div class="modal-card">
    <span id="closeCompartir" class="close">&times;</span>
    <h2>Compartir alerta con entidades</h2>

    <label for="entidadCompartir"><b>Selecciona entidad:</b></label>
    <select id="entidadCompartir" class="filtro-select">
      <option value="">Seleccione</option>
      <option value="SEDAPAL">SEDAPAL</option>
      <option value="DIGESA">DIGESA</option>
      <option value="SUNASS">SUNASS</option>
    </select>

    <p><b>Mensaje generado:</b></p>
    <textarea id="mensajeCompartir" readonly></textarea>

    <button id="btnCopiarCompartir" class="btn btn-add" style="margin-top:10px;">
      Copiar mensaje
    </button>
  </div>
</div>


    <!-- Modal del informe -->
<div id="modalInforme" class="modal">
  <div class="modal-content">
    <span class="close" id="closeInforme">&times;</span>
    <h2>Informe Mensual de Calidad del Agua</h2>

    <canvas id="graficoDistritos" style="margin: 20px 0; max-height: 300px;"></canvas>

    <div id="estadisticasDistritos"></div>

    <button id="btnExportarPDF" class="btn btn-add">Exportar PDF</button>
  </div>
</div>

    <!-- MODAL CREAR ALERTA -->
    <div id="modalAlerta" class="modal">
      <div class="modal-card">
        <span class="close">&times;</span>
        <h2>Crear Nueva Alerta</h2>
        <form id="formAlerta">
          <input type="text" id="titulo" placeholder="T√≠tulo de la alerta" required />
          <input type="text" id="lugar" placeholder="Lugar" required />
          <input type="date" id="fecha" required />
          <input type="time" id="hora" required />
          <textarea id="descripcion" placeholder="Descripci√≥n de la alerta (IMPORTANTE: incluir direccion exacta y el tipo de riesgo que usted considera(" rows="3" required></textarea>

          <label class="label-img">Adjuntar evidencia (opcional):</label>
          <input type="file" id="imagenAlerta" accept="image/*" />
          <img id="previewImagen" style="display:none; margin-top:10px; width:100%; border-radius:8px;" />

          <button type="submit" class="btn btn-add">Guardar Alerta</button>
          <p id="mensajeForm" class="mensaje"></p>
        </form>
      </div>
    </div>

    <!-- MODAL NOTIFICACIONES -->
    <div id="modalNotificaciones" class="modal">
      <div class="modal-card">
        <span class="close" id="closeNotificaciones">&times;</span>
        <h2>¬øDeseas recibir notificaciones?</h2>
        <p>Estas notificaciones te avisar√°n de cortes de agua, suministros restablecidos y alertas cerca a tu zona. Puedes activarlas o desactivarlas cuando quieras.</p>
        <div style="display:flex; gap:1rem; justify-content:center; margin-top:20px;">
          <button id="btnSiNotificaciones" class="btn-choice btn-si">S√≠</button>
          <button id="btnNoNotificaciones" class="btn-choice btn-no">No</button>
        </div>
      </div>
    </div>

    <!-- MODAL RECOMENDACION DEL DIA -->
    <div id="modalRecomendacion" class="modal">
      <div class="modal-card">
        <span class="close" id="closeRecomendacion">&times;</span>
        <h2>üåü Recomendaci√≥n del D√≠a</h2>
        <p>Vuelve seguido para ver nuevas recomendaciones sobre desinfecci√≥n y almacenamiento del agua.</p>
        <img id="imgRecomendacion" src="assets/images/Recomendacion.jpg" alt="Recomendaci√≥n" style="width:100%; border-radius:10px; margin-top:15px;">
        <p id="textoRecomendacion" style="margin-top:15px; font-size:16px;">
          Aqu√≠ aparecer√° la recomendaci√≥n del d√≠a. Puedes reemplazar este texto cuando gustes.
        </p>
      </div>
    </div>

    <!-- MODAL NOTIFICACIONES PERSONALIZADAS -->
    <div id="modalNotifPersonalizadas" class="modal">
      <div class="modal-card">
        <span class="close" id="closeNotifPersonalizaciones">&times;</span>
        <h2>Notificaciones Personalizadas</h2>
        <p>Elige tu distrito para recibir alertas de agua no segura o cortes de agua por SMS.</p>
        <select id="selectDistritoNotif" class="filtro-select" style="margin-top:15px;">
          <option value="" disabled selected>Selecciona un distrito</option>
          <option value="San Juan de Lurigancho">San Juan de Lurigancho</option>
          <option value="Comas">Comas</option>
          <option value="San Mart√≠n de Porres">San Mart√≠n de Porres</option>
          <option value="Villa El Salvador">Villa El Salvador</option>
          <option value="Los Olivos">Los Olivos</option>
          <option value="Ate">Ate</option>
          <option value="R√≠mac">R√≠mac</option>
          <option value="Surco">Surco</option>
          <option value="Bre√±a">Bre√±a</option>
          <option value="Chorrillos">Chorrillos</option>
        </select>
        <button id="btnConfirmarNotif" class="btn btn-add" style="margin-top:20px;">Activar Notificaciones</button>
      </div>
    </div>

    <!-- MODAL CONFIRMACION NOTIFICACIONES -->
    <div id="modalConfirmacionNotif" class="modal">
      <div class="modal-card">
        <span class="close" id="closeConfirmacionNotif">&times;</span>
        <h2>¬øEst√°s seguro?</h2>
        <p>¬øDeseas activar notificaciones por SMS para este distrito?</p>
        <div style="display:flex; gap:1rem; justify-content:center; margin-top:20px;">
          <button id="btnConfirmarSi" class="btn-choice btn-si">S√≠</button>
          <button id="btnConfirmarNo" class="btn-choice btn-no">No</button>
        </div>
      </div>
    </div>

    <!-- MODAL CONFIGURAR PREFERENCIAS -->
    <div id="modalPreferencias" class="modal">
      <div class="modal-card">
        <span class="close" id="closePreferencias">&times;</span>
        <h2>Preferencias de Alertas</h2>
        <p>Personaliza el tipo y la frecuencia de las alertas.</p>

        <label><b>Tipos de alertas:</b></label>
        <select id="selectTipoAlerta" class="filtro-select" style="margin-top:10px;">
          <option value="todas">Todas</option>
          <option value="agua">Agua no segura</option>
          <option value="corte">Cortes de servicio</option>
          <option value="cloro">Niveles de cloro</option>
          <option value="reporte">Reportes ciudadanos</option>
        </select>

        <label style="margin-top:20px;"><b>Frecuencia:</b></label>
        <select id="selectFrecuencia" class="filtro-select" style="margin-top:10px;">
          <option value="inmediata">Inmediata</option>
          <option value="12h">Cada 12 horas</option>
          <option value="diaria">Diaria</option>
          <option value="semanal">Semanal</option>
        </select>

        <button id="btnGuardarPreferencias" class="btn btn-add" style="margin-top:20px;">Guardar Preferencias</button>
      </div>
    </div>

    <!-- MODAL CONFIRMACION PREFERENCIAS -->
    <div id="modalConfirmPreferencias" class="modal">
      <div class="modal-card">
        <span class="close" id="closeConfirmPreferencias">&times;</span>
        <h2>¬øGuardar cambios?</h2>
        <p>¬øDeseas guardar tus nuevas preferencias de alertas?</p>
        <div style="display:flex; gap:1rem; justify-content:center; margin-top:20px;">
          <button id="btnPrefSi" class="btn-choice btn-si">S√≠</button>
          <button id="btnPrefNo" class="btn-choice btn-no">No</button>
        </div>
      </div>
    </div>

    <!-- NUEVO MODAL: SEGURIDAD DEL AGUA POR DISTRITO -->
    <div id="modalSeguridadAgua" class="modal">
      <div class="modal-card">
        <span class="close" id="closeSeguridadAgua">&times;</span>
        <h2>Seguridad del agua potable</h2>
        <p>
          Selecciona un distrito para verificar si el agua cumple los tiempos recomendados
          de desinfecci√≥n y almacenamiento para ser apta para consumo.
        </p>

        <label for="selectDistritoSeguridad"><b>Distrito:</b></label>
        <select id="selectDistritoSeguridad" class="filtro-select">
          <option value="" disabled selected>Selecciona un distrito</option>
          <option value="San Juan de Lurigancho">San Juan de Lurigancho</option>
          <option value="Comas">Comas</option>
          <option value="San Mart√≠n de Porres">San Mart√≠n de Porres</option>
          <option value="Villa El Salvador">Villa El Salvador</option>
          <option value="Los Olivos">Los Olivos</option>
          <option value="Ate">Ate</option>
          <option value="R√≠mac">R√≠mac</option>
          <option value="Surco">Surco</option>
          <option value="Bre√±a">Bre√±a</option>
          <option value="Chorrillos">Chorrillos</option>
        </select>

        <button id="btnEvaluarSeguridad" class="btn btn-add" style="margin-top: 15px;">
          Evaluar seguridad
        </button>

        <p id="resultadoSeguridad" class="mensaje" style="margin-top: 15px;"></p>
      </div>
    </div>

    <!-- MODAL COMUNICADOS RESULTADOS VERIFICADOS DIGESA -->
    <div id="modalComunicados" class="modal">
      <div class="modal-card modal-comunicados">
        <span class="close" id="closeComunicados">&times;</span>

        <h2>Comunicados oficiales - Resultados verificados</h2>
        <p class="modal-comunicados-descripcion">
          Aqu√≠ se publican los comunicados con resultados confirmados por DIGESA u otras autoridades.
        </p>

        <!-- LISTA DE COMUNICADOS -->
        <div id="listaComunicados" class="lista-comunicados">
        </div>

        <hr class="modal-comunicados-divider" />

        <h3 id="tituloFormComunicado" class="form-comunicado-titulo">
          Nuevo comunicado
        </h3>

        <form id="formComunicado" class="form-comunicado">
          <input
            type="text"
            id="tituloComunicado"
            placeholder="T√≠tulo del comunicado"
            required
          />
          <input
            type="date"
            id="fechaComunicado"
            required
          />
          <textarea
            id="descripcionComunicado"
            placeholder="Descripci√≥n / resumen del resultado verificado"
            rows="3"
            required
          ></textarea>
          <input
            type="url"
            id="enlaceComunicado"
            placeholder="Enlace al informe oficial (opcional)"
          />

          <button type="submit" class="btn btn-add btn-guardar-comunicado">
            Guardar comunicado
          </button>

          <p id="mensajeComunicado" class="mensaje mensaje-comunicado"></p>
        </form>
      </div>
    </div>

    <!-- MODAL REVISI√ìN T√âCNICA DE ALERTAS -->
<div id="modalRevisionTecnica" class="modal">
  <div class="modal-card">
    <span class="close" id="closeRevisionTecnica">&times;</span>
    <h2>Revisi√≥n t√©cnica de alerta</h2>

    <p id="tituloAlertaTecnica" style="font-weight: 500; margin-bottom: 10px;">
      <!-- Aqu√≠ se llenar√° el t√≠tulo de la alerta -->
    </p>

    <form id="formRevisionTecnica">
      <label for="selectResultadoTecnico"><b>Resultado de la revisi√≥n:</b></label>
      <select id="selectResultadoTecnico" class="filtro-select" style="margin-top: 5px;">
        <option value="Confirmada">Confirmar alerta</option>
        <option value="Descartada">Descartar alerta</option>
      </select>

      <label for="comentarioTecnico" style="margin-top: 15px;"><b>Comentario t√©cnico:</b></label>
      <textarea
        id="comentarioTecnico"
        rows="3"
        placeholder="Explica el an√°lisis t√©cnico: par√°metros, normativa, recomendaci√≥n..."
        style="margin-top: 5px;"
      ></textarea>

      <button type="submit" class="btn btn-add" style="margin-top: 15px;">
        Guardar revisi√≥n
      </button>
    </form>
  </div>
</div>


    <!-- FOOTER -->
    <footer class="footer">
      <div class="footer-container">
        <div class="footer-col">
          <h3 class="logo">AquaAlert</h3>
          <p>Una aplicaci√≥n que empodera a los ciudadanos mediante informaci√≥n en tiempo real sobre la calidad del agua, promoviendo un consumo seguro y responsable.</p>
          <div class="social-icons">
            <i class="fab fa-linkedin-in"></i>
            <i class="fab fa-facebook-f"></i>
            <i class="fab fa-instagram"></i>
            <i class="fa-brands fa-twitter"></i>
            <i class="fab fa-youtube"></i>
          </div>
        </div>

        <div class="footer-col">
          <h4 class="active">Producto</h4>
          <ul>
            <li><a href="SesionIniciada.html">Inicio</a></li>
            <li><a href="SobreNosotros.html">Sobre Nosotros</a></li>
            <li><a href="Contacto.html">Contacto</a></li>
          </ul>
        </div>

        <div class="footer-col" id="footer-user-section">
          <h4 class="active">Registro</h4>
          <ul>
            <li><a href="Registro.html">Registrarse</a></li>
            <li><a href="Login.html">Iniciar Sesi√≥n</a></li>
          </ul>
        </div>

        <hr class="footer-line" />

        <div class="footer-bottom">
          <p>Copyright ¬© 2025 AquaAlert. Todos los derechos reservados.</p>
          <div class="footer-links">
            <span>ÔΩú</span>
            <a href="assets/images/Terminos_de_Privacidad_AquaAlert.pdf">T√©rminos de privacidad</a>
            <span>ÔΩú</span>
            <a href="assets/images/Terminos_de_Servicio_AquaAlert.pdf">T√©rminos de servicio</a>
            <span>ÔΩú</span>
            <a href="assets/images/Proteccion de Datos.pdf">Protecci√≥n de Datos</a>
          </div>
        </div>
      </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="assets/scripts/Alertas.js"></script>
  </body>
</html>





































